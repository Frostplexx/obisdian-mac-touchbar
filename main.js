/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/macro_desc.json
var require_macro_desc = __commonJS({
  "src/macro_desc.json"(exports, module2) {
    module2.exports = {
      macros: [
        {
          syntax: "[KEYCODE]",
          description: "This is how you press a key, where `KEYCODE` is the name of the key you want pressed. Keycodes can be found <a >here</a>.",
          example: "[Enter] [Backspace]"
        },
        {
          syntax: "[KEYCODE]+[KEYCODE]",
          description: "+ is used to add a modifier eg: [Cmd]+[P] for pressing Command-P. Multiple modifiers are supported if you separate them with a space.",
          example: "[Cmd]+[P] [Cmd Shift]+[F]"
        },
        {
          syntax: ",DELAY,",
          description: ", is used to add a delay between key presses where `DELAY` is the amount in ms.",
          example: "[Cmd]+[P],100,[Enter]"
        },
        {
          syntax: '"TEXT"',
          description: '" is used to type text where `TEXT` is the text you want typed',
          example: '"Hello World"'
        },
        {
          syntax: "#COMMENT#",
          description: "# is used to add a comment where `COMMENT` is the comment you want to add.",
          example: "#This is a comment#"
        },
        {
          syntax: "\\CHAR",
          description: "\\ is used to escape a character where `CHAR` is the character you want to escape.",
          example: "\\["
        },
        {
          syntax: "{REPEAT}()",
          description: "{}() is used to repeat a sequence of keys where `REPEAT` is the sequence you want to repeat.",
          example: "{10}([Cmd]+[P] [Cmd]+[A] [Cmd]+[C] [Cmd]+[V] [Enter])"
        }
      ]
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => TouchBarMacros
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/touchbarItems/touchBarItems.ts
var ObsidianTouchBarItem = class {
  constructor(properties, id = "") {
    this.properties = properties;
    this.id = id === "" ? this.generateID() : id;
  }
  generateID() {
    return Math.random().toString(36).substring(7);
  }
  /**
   * Returns the properties of the touch bar item
   * @returns {any}
   */
  getProperties() {
    return this.properties;
  }
};

// src/macro.ts
var electron = require("electron").remote;
function executeMacro(app, makro) {
  const commands = parseMacro(makro);
  executeCommands(app, commands);
}
var repeatcounter = 0;
async function executeCommands(app, commands) {
  var _a, _b, _c;
  console.log(commands);
  for (const command of commands) {
    if (command.command === MacroCommandType.RepeatStart) {
      repeatcounter = parseInt(command.argument);
    }
    if (repeatcounter > 0) {
      for (let i = 0; i < repeatcounter - 1; i++) {
        const insideCommands = commands.slice(commands.indexOf(command) + 1, commands.indexOf(commands.find((command2) => command2.command === MacroCommandType.RepeatEnd)));
        executeCommands(app, insideCommands);
      }
    }
    if (command.command === MacroCommandType.PressKey && ((_a = commands[commands.indexOf(command) + 1]) == null ? void 0 : _a.command) === MacroCommandType.PressKeys && ((_b = commands[commands.indexOf(command) + 2]) == null ? void 0 : _b.command) === MacroCommandType.PressKey) {
      pressKeys(app, command.argument, (_c = commands[commands.indexOf(command) + 2]) == null ? void 0 : _c.argument);
    } else {
      switch (command.command) {
        case MacroCommandType.PressKey:
          pressKey(app, command.argument);
          break;
        case MacroCommandType.AddText:
          addText(app, command.argument);
          break;
        case MacroCommandType.Delay:
          await waitFor(command.argument);
          break;
        case MacroCommandType.AddComment:
          break;
      }
    }
  }
}
function waitFor(argument) {
  return new Promise((resolve) => setTimeout(resolve, parseInt(argument)));
}
function addText(app, text) {
  console.log(text);
  const characters = text.split("");
  const win = electron.BrowserWindow.getFocusedWindow();
  characters.forEach((char) => {
    win.webContents.sendInputEvent({ keyCode: char, type: "char" });
  });
}
function pressKeys(app, key1, key2) {
  const win = electron.BrowserWindow.getFocusedWindow();
  const mods = key1.split(" ");
  win.webContents.sendInputEvent({ keyCode: key2, type: "keyDown", modifiers: mods });
  win.webContents.sendInputEvent({ keyCode: key2, type: "keyUp" });
}
function pressKey(app, key) {
  console.log(key);
  const browserWindow = electron.BrowserWindow.getFocusedWindow();
  browserWindow.webContents.sendInputEvent({ keyCode: key, type: "keyDown" });
  browserWindow.webContents.sendInputEvent({ keyCode: key, type: "keyUp" });
}
function parseMacro(macro) {
  const characters = macro.split("");
  const parsedCommands = [];
  let currentCommand = "";
  let currentArgument = "";
  let isEscaped = false;
  let commandStarted = false;
  let commandEscaped = false;
  characters.forEach((command) => {
    switch (command) {
      case "[":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          commandStarted = true;
          currentCommand += command;
          break;
        }
      case "]":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else if (commandStarted) {
          commandStarted = false;
          currentCommand += command;
          parsedCommands.push({
            command: MacroCommandType.PressKey,
            argument: currentArgument
          });
          currentArgument = "";
          break;
        } else {
          currentArgument += command;
          break;
        }
      case "+":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          commandStarted = false;
          currentCommand += command;
          parsedCommands.push({
            command: MacroCommandType.PressKeys,
            argument: ""
          });
          currentArgument = "";
          break;
        }
      case '"':
        if (isEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          commandEscaped = true;
          commandStarted = !commandStarted;
          currentCommand += command;
          if (!commandStarted) {
            parsedCommands.push({
              command: MacroCommandType.AddText,
              argument: currentArgument
            });
            commandEscaped = false;
          }
          currentArgument = "";
          break;
        }
      case "#":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          commandStarted = !commandStarted;
          currentCommand += command;
          if (!commandStarted) {
            parsedCommands.push({
              command: MacroCommandType.AddComment,
              argument: currentArgument
            });
          }
          currentArgument = "";
          break;
        }
      case "\\":
        isEscaped = true;
        break;
      case ",":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          commandStarted = !commandStarted;
          currentCommand += command;
          if (!commandStarted) {
            parsedCommands.push({
              command: MacroCommandType.Delay,
              argument: currentArgument
            });
          }
          currentArgument = "";
          break;
        }
      case "{":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          commandStarted = !commandStarted;
          currentCommand += command;
          break;
        }
      case "}":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          commandStarted = false;
          currentCommand += command;
          if (!commandStarted) {
            parsedCommands.push({
              command: MacroCommandType.RepeatStart,
              argument: currentArgument
            });
          }
          currentArgument = "";
          break;
        }
      case "(":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          currentCommand += command;
          break;
        }
      case ")":
        if (isEscaped || commandEscaped) {
          currentArgument += command;
          isEscaped = false;
          break;
        } else {
          currentCommand += command;
          if (!commandStarted) {
            parsedCommands.push({
              command: MacroCommandType.RepeatEnd,
              argument: ""
            });
          }
          break;
        }
      default:
        if (commandStarted) {
          currentArgument += command;
        }
        break;
    }
  });
  return parsedCommands;
}
var MacroCommandType = /* @__PURE__ */ ((MacroCommandType2) => {
  MacroCommandType2[MacroCommandType2["PressKey"] = 0] = "PressKey";
  MacroCommandType2[MacroCommandType2["PressKeys"] = 1] = "PressKeys";
  MacroCommandType2[MacroCommandType2["AddText"] = 2] = "AddText";
  MacroCommandType2[MacroCommandType2["AddComment"] = 3] = "AddComment";
  MacroCommandType2[MacroCommandType2["RepeatStart"] = 4] = "RepeatStart";
  MacroCommandType2[MacroCommandType2["RepeatEnd"] = 5] = "RepeatEnd";
  MacroCommandType2[MacroCommandType2["Delay"] = 6] = "Delay";
  return MacroCommandType2;
})(MacroCommandType || {});

// src/touchbarItems/items/button.ts
var { TouchBar } = require("electron").remote;
var ObsidianTouchBarButton = class extends ObsidianTouchBarItem {
  constructor(properties) {
    super(properties);
    this.type = "ObsidianTouchBarButton" /* ObsidianTouchBarButton */;
  }
  getDisplayAbleItem() {
    return new TouchBar.TouchBarButton({
      label: this.properties["label"],
      backgroundColor: this.properties["backgroundColor"],
      click: () => {
        executeMacro(this.app, this.properties["macro"]);
      }
    });
  }
};

// src/touchbarItems/touchBarItems.utils.ts
function deserializeTouchBarItem(serializedItem) {
  switch (serializedItem.type) {
    case "ObsidianTouchBarButton" /* ObsidianTouchBarButton */:
      return new ObsidianTouchBarButton(serializedItem.properties);
    default:
      throw new Error("Unknown touch bar item type: " + serializedItem.type);
  }
}

// src/touchbarItems/items/label.ts
var { TouchBar: TouchBar2 } = require("electron").remote;
var ObsidianTouchBarLabel = class extends ObsidianTouchBarItem {
  constructor(properties) {
    super(properties);
    this.type = "ObsidianTouchBarLabel" /* ObsidianTouchBarLabel */;
  }
  getDisplayAbleItem() {
    return new TouchBar2.TouchBarLabel({
      label: this.properties["label"]
    });
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  touchbarItems: []
};
var TouchBarMacros = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.updateTouchBar();
    this.addSettingTab(new TouchBarSettingTab(this.app, this));
  }
  updateTouchBar() {
    const { BrowserWindow, TouchBar: TouchBar3 } = require("electron").remote;
    const items = this.settings.touchbarItems.map((item) => {
      return deserializeTouchBarItem(item).getDisplayAbleItem();
    });
    if (items.length === 0)
      return;
    const win = BrowserWindow.getFocusedWindow();
    win.setTouchBar(new TouchBar3({
      items
    }));
  }
  onunload() {
    const { BrowserWindow } = require("electron").remote;
    const win = BrowserWindow.getFocusedWindow();
    win.setTouchBar(null);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var TouchBarSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Touch Bar Items" });
    containerEl.createEl("p", { text: "To add an item to your Touch Bar, click the button below. You can then edit the item in the list below." });
    const modifyOrAddArray = async (item) => {
      const index = this.plugin.settings.touchbarItems.findIndex((element) => element.id === item.id);
      if (index === -1) {
        this.plugin.settings.touchbarItems.push(item);
      } else {
        this.plugin.settings.touchbarItems[index] = item;
      }
      this.plugin.updateTouchBar();
      await this.plugin.saveSettings();
    };
    const createTouchbarItem = (item) => {
      const itemEl = itemContainer.createDiv("touchbar-item");
      const moveButtons = itemEl.createDiv("move-buttons-div");
      const moveUp = moveButtons.createEl("button", "touchbar-item-button");
      (0, import_obsidian.setIcon)(moveUp, "chevron-up");
      const moveDown = moveButtons.createEl("button", "touchbar-item-button");
      (0, import_obsidian.setIcon)(moveDown, "chevron-down");
      moveUp.addEventListener("click", async () => {
        var _a;
        const index = this.plugin.settings.touchbarItems.findIndex((element) => element.id === item.id);
        if (index > 0) {
          this.plugin.settings.touchbarItems.splice(index - 1, 0, this.plugin.settings.touchbarItems.splice(index, 1)[0]);
          this.plugin.updateTouchBar();
          await this.plugin.saveSettings();
          (_a = itemEl.previousSibling) == null ? void 0 : _a.before(itemEl);
        }
      });
      moveDown.addEventListener("click", async () => {
        var _a;
        const index = this.plugin.settings.touchbarItems.findIndex((element) => element.id === item.id);
        if (index < this.plugin.settings.touchbarItems.length - 1) {
          this.plugin.settings.touchbarItems.splice(index + 1, 0, this.plugin.settings.touchbarItems.splice(index, 1)[0]);
          this.plugin.updateTouchBar();
          await this.plugin.saveSettings();
          (_a = itemEl.nextSibling) == null ? void 0 : _a.after(itemEl);
        }
      });
      const labelIn = itemEl.createEl("input", {
        type: "text",
        value: item["properties"]["label"]
      });
      labelIn.classList.add("touchbar-item-input");
      labelIn.placeholder = "Label";
      const colorIn = itemEl.createEl("input", {
        type: "color",
        value: item["properties"]["backgroundColor"]
      });
      colorIn.classList.add("touchbar-item-input");
      colorIn.placeholder = "Background Color";
      const makroIn = itemEl.createEl("input", {
        type: "text",
        value: item["properties"]["macro"]
      });
      makroIn.classList.add("touchbar-item-input");
      makroIn.classList.add("wide-input");
      makroIn.placeholder = "Macro";
      const removeButton = itemEl.createEl("button", "touchbar-item-button remove-button");
      (0, import_obsidian.setIcon)(removeButton, "x");
      removeButton.onclick = async () => {
        this.plugin.settings.touchbarItems = this.plugin.settings.touchbarItems.filter((i) => i !== item);
        await this.plugin.saveSettings();
        this.plugin.updateTouchBar();
        itemEl.remove();
      };
      labelIn.onchange = async () => {
        item["properties"]["label"] = labelIn.value;
        await modifyOrAddArray(item);
      };
      colorIn.onchange = async () => {
        item["properties"]["backgroundColor"] = colorIn.value;
        await modifyOrAddArray(item);
      };
      makroIn.onchange = async () => {
        item["properties"]["macro"] = makroIn.value;
        await modifyOrAddArray(item);
      };
    };
    new import_obsidian.Setting(containerEl).setName("Add Touch Bar item").setDesc('Click the "+" button to start creating a new Touch Bar item.').addButton((cb) => {
      cb.setButtonText("Add").onClick(async (event) => {
        const mousePos = { x: event.offsetX, y: event.offsetY };
        const dropdown = containerEl.createDiv("touchbar-dropdown");
        console.log(mousePos);
        dropdown.style.right = mousePos.x + "px";
        dropdown.style.top = mousePos.y + "px";
        dropdown.addEventListener("mouseleave", () => {
          dropdown.remove();
        });
        const button = (text, onClick) => {
          const button2 = dropdown.createEl("button", "touchbar-dropdown-button");
          button2.createEl("span", { text });
          button2.classList.add("touchbar-dropdown-button");
          button2.addEventListener("click", () => {
            onClick();
            dropdown.remove();
          });
        };
        button("Button", () => {
          createTouchbarItem(new ObsidianTouchBarButton({ label: "Button", macro: "" }));
        });
        button("Label", () => {
          createTouchbarItem(new ObsidianTouchBarLabel({ label: "Label" }));
        });
        button("Spacer", () => {
        });
        button("Slider", () => {
        });
        button("Segmented Control", () => {
        });
        button("Popover", () => {
        });
        button("Scrubber", () => {
        });
      }).setTooltip("Add a new touchbar item").setIcon("plus").setCta();
    });
    const itemContainer = containerEl.createEl("div");
    itemContainer.createEl("h2", { text: "Current Touch Bar Items" });
    const touchbarItems = this.plugin.settings.touchbarItems;
    console.log(touchbarItems);
    for (let i = 0; i < touchbarItems.length; i++) {
      createTouchbarItem(touchbarItems[i]);
    }
    containerEl.createEl("hr");
    containerEl.createEl("h2", { text: "Macros" });
    const description = containerEl.createEl("p", { text: "Use macros to give your Touch Bar items functionality, but be careful as these can have the ability to modify files in unintended ways! If you unsure please consider trying out the macro in a new vault first. " });
    description.classList.add("touchbar-settings-description");
    description.createEl("a", {
      text: "List of available keycodes",
      href: "https://www.electronjs.org/docs/latest/api/accelerator#available-key-codes"
    });
    const macroTable = containerEl.createEl("table", "touchbar-macro-table");
    const macroTableHead = macroTable.createEl("thead");
    const macroTableHeadRow = macroTableHead.createEl("tr");
    const macroTableHeadRowName = macroTableHeadRow.createEl("th");
    const macroTableHeadRowName2 = macroTableHeadRow.createEl("th");
    const macroTableHeadRowName3 = macroTableHeadRow.createEl("th");
    macroTableHeadRowName.setText("Syntax");
    macroTableHeadRowName2.setText("Description");
    macroTableHeadRowName3.setText("Example");
    const macroTableBody = macroTable.createEl("tbody");
    const { macros } = require_macro_desc();
    for (let i = 0; i < macros.length; i++) {
      const row = macroTableBody.createEl("tr");
      const name = row.createEl("td", "touchbar-macro-table-border");
      const desc = row.createEl("td", "touchbar-macro-table-border");
      const example = row.createEl("td", "touchbar-macro-table-border");
      name.setText(macros[i]["syntax"]);
      desc.setText(macros[i]["description"]);
      example.setText(macros[i]["example"]);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21hY3JvX2Rlc2MuanNvbiIsICJzcmMvbWFpbi50cyIsICJzcmMvdG91Y2hiYXJJdGVtcy90b3VjaEJhckl0ZW1zLnRzIiwgInNyYy9tYWNyby50cyIsICJzcmMvdG91Y2hiYXJJdGVtcy9pdGVtcy9idXR0b24udHMiLCAic3JjL3RvdWNoYmFySXRlbXMvdG91Y2hCYXJJdGVtcy51dGlscy50cyIsICJzcmMvdG91Y2hiYXJJdGVtcy9pdGVtcy9sYWJlbC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsie1xuXHRcIm1hY3Jvc1wiOiBbXG5cdFx0e1xuXHRcdFx0XCJzeW50YXhcIjogXCJbS0VZQ09ERV1cIixcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCJUaGlzIGlzIGhvdyB5b3UgcHJlc3MgYSBrZXksIHdoZXJlIGBLRVlDT0RFYCBpcyB0aGUgbmFtZSBvZiB0aGUga2V5IHlvdSB3YW50IHByZXNzZWQuIEtleWNvZGVzIGNhbiBiZSBmb3VuZCA8YSA+aGVyZTwvYT4uXCIsXG5cdFx0XHRcImV4YW1wbGVcIjogXCJbRW50ZXJdIFtCYWNrc3BhY2VdXCJcblx0XHR9LFxuXHRcdHtcblx0XHRcdFwic3ludGF4XCI6IFwiW0tFWUNPREVdK1tLRVlDT0RFXVwiLFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIisgaXMgdXNlZCB0byBhZGQgYSBtb2RpZmllciBlZzogW0NtZF0rW1BdIGZvciBwcmVzc2luZyBDb21tYW5kLVAuIE11bHRpcGxlIG1vZGlmaWVycyBhcmUgc3VwcG9ydGVkIGlmIHlvdSBzZXBhcmF0ZSB0aGVtIHdpdGggYSBzcGFjZS5cIixcblx0XHRcdFwiZXhhbXBsZVwiOiBcIltDbWRdK1tQXSBbQ21kIFNoaWZ0XStbRl1cIlxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0XCJzeW50YXhcIjogXCIsREVMQVksXCIsXG5cdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiLCBpcyB1c2VkIHRvIGFkZCBhIGRlbGF5IGJldHdlZW4ga2V5IHByZXNzZXMgd2hlcmUgYERFTEFZYCBpcyB0aGUgYW1vdW50IGluIG1zLlwiLFxuXHRcdFx0XCJleGFtcGxlXCI6IFwiW0NtZF0rW1BdLDEwMCxbRW50ZXJdXCJcblx0XHR9LFxuXHRcdHtcblx0XHRcdFwic3ludGF4XCI6IFwiXFxcIlRFWFRcXFwiXCIsXG5cdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiXFxcIiBpcyB1c2VkIHRvIHR5cGUgdGV4dCB3aGVyZSBgVEVYVGAgaXMgdGhlIHRleHQgeW91IHdhbnQgdHlwZWRcIixcblx0XHRcdFwiZXhhbXBsZVwiOiBcIlxcXCJIZWxsbyBXb3JsZFxcXCJcIlxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0XCJzeW50YXhcIjogXCIjQ09NTUVOVCNcIixcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCIjIGlzIHVzZWQgdG8gYWRkIGEgY29tbWVudCB3aGVyZSBgQ09NTUVOVGAgaXMgdGhlIGNvbW1lbnQgeW91IHdhbnQgdG8gYWRkLlwiLFxuXHRcdFx0XCJleGFtcGxlXCI6IFwiI1RoaXMgaXMgYSBjb21tZW50I1wiXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRcInN5bnRheFwiOiBcIlxcXFxDSEFSXCIsXG5cdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiXFxcXCBpcyB1c2VkIHRvIGVzY2FwZSBhIGNoYXJhY3RlciB3aGVyZSBgQ0hBUmAgaXMgdGhlIGNoYXJhY3RlciB5b3Ugd2FudCB0byBlc2NhcGUuXCIsXG5cdFx0XHRcImV4YW1wbGVcIjogXCJcXFxcW1wiXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRcInN5bnRheFwiOiBcIntSRVBFQVR9KClcIixcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCJ7fSgpIGlzIHVzZWQgdG8gcmVwZWF0IGEgc2VxdWVuY2Ugb2Yga2V5cyB3aGVyZSBgUkVQRUFUYCBpcyB0aGUgc2VxdWVuY2UgeW91IHdhbnQgdG8gcmVwZWF0LlwiLFxuXHRcdFx0XCJleGFtcGxlXCI6IFwiezEwfShbQ21kXStbUF0gW0NtZF0rW0FdIFtDbWRdK1tDXSBbQ21kXStbVl0gW0VudGVyXSlcIlxuXHRcdH1cblx0XVxufVxuIiwgImltcG9ydCB7QXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIHNldEljb24sIFNldHRpbmd9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7T2JzaWRpYW5Ub3VjaEJhckl0ZW0sIFNlcmlhbGl6ZWRUb3VjaEJhckl0ZW19IGZyb20gXCIuL3RvdWNoYmFySXRlbXMvdG91Y2hCYXJJdGVtc1wiO1xuaW1wb3J0IHtleGVjdXRlTWFjcm99IGZyb20gXCIuL21hY3JvXCI7XG5pbXBvcnQge2Rlc2VyaWFsaXplVG91Y2hCYXJJdGVtfSBmcm9tIFwiLi90b3VjaGJhckl0ZW1zL3RvdWNoQmFySXRlbXMudXRpbHNcIjtcbmltcG9ydCB7T2JzaWRpYW5Ub3VjaEJhckJ1dHRvbiwgVG91Y2hCYXJCdXR0b25Qcm9wZXJ0aWVzfSBmcm9tIFwiLi90b3VjaGJhckl0ZW1zL2l0ZW1zL2J1dHRvblwiO1xuaW1wb3J0IHtPYnNpZGlhblRvdWNoQmFyTGFiZWwsIFRvdWNoQmFyTGFiZWxQcm9wZXJ0aWVzfSBmcm9tIFwiLi90b3VjaGJhckl0ZW1zL2l0ZW1zL2xhYmVsXCI7XG5cblxuaW50ZXJmYWNlIFRvdWNoYmFyUGx1Z2luU2V0dGluZ3Mge1xuXHR0b3VjaGJhckl0ZW1zOiBTZXJpYWxpemVkVG91Y2hCYXJJdGVtW11cbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogVG91Y2hiYXJQbHVnaW5TZXR0aW5ncyA9IHtcblx0dG91Y2hiYXJJdGVtczogW10sXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvdWNoQmFyTWFjcm9zIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IFRvdWNoYmFyUGx1Z2luU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHR0aGlzLnVwZGF0ZVRvdWNoQmFyKCk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgVG91Y2hCYXJTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHR1cGRhdGVUb3VjaEJhcigpIHtcblx0XHRjb25zdCB7QnJvd3NlcldpbmRvdywgVG91Y2hCYXJ9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKS5yZW1vdGVcblxuXHRcdC8vIGxvYWQgYWxsIHRoZSBpdGVtcyBmcm9tIHRoZSBzZXR0aW5nc1xuXHRcdGNvbnN0IGl0ZW1zID0gdGhpcy5zZXR0aW5ncy50b3VjaGJhckl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplVG91Y2hCYXJJdGVtKGl0ZW0pLmdldERpc3BsYXlBYmxlSXRlbSgpXG5cblx0XHR9KTtcblxuXHRcdGlmKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvL2Rvbid0IGRvIGFueXRoaW5nIGlmIHRoZXJlIGFyZSBubyBpdGVtc1xuXG5cdFx0Ly9nZXQgdGhlIG1haW4gd2luZG93XG5cdFx0Y29uc3Qgd2luID0gQnJvd3NlcldpbmRvdy5nZXRGb2N1c2VkV2luZG93KClcblx0XHQvL3NldCB0aGUgdG91Y2hiYXJcblx0XHR3aW4uc2V0VG91Y2hCYXIobmV3IFRvdWNoQmFyKHtcblx0XHRcdGl0ZW1zOiBpdGVtc1xuXHRcdH0pKVxuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0Ly91bmxvYWQgYWxsIHRoZSB0b3VjaGJhciBpdGVtc1xuXHRcdGNvbnN0IHtCcm93c2VyV2luZG93fSA9IHJlcXVpcmUoJ2VsZWN0cm9uJykucmVtb3RlXG5cdFx0Y29uc3Qgd2luID0gQnJvd3NlcldpbmRvdy5nZXRGb2N1c2VkV2luZG93KClcblx0XHR3aW4uc2V0VG91Y2hCYXIobnVsbClcblxuXHRcdC8vdW5sb2FkIGFsbCB0aGUgbGlzdGVuZXJzXG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5jbGFzcyBUb3VjaEJhclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBUb3VjaEJhck1hY3JvcztcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBUb3VjaEJhck1hY3Jvcykge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdUb3VjaCBCYXIgSXRlbXMnfSk7XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHt0ZXh0OiBcIlRvIGFkZCBhbiBpdGVtIHRvIHlvdXIgVG91Y2ggQmFyLCBjbGljayB0aGUgYnV0dG9uIGJlbG93LiBZb3UgY2FuIHRoZW4gZWRpdCB0aGUgaXRlbSBpbiB0aGUgbGlzdCBiZWxvdy5cIn0pXG5cblx0XHRjb25zdCBtb2RpZnlPckFkZEFycmF5ID0gYXN5bmMgKGl0ZW06IE9ic2lkaWFuVG91Y2hCYXJCdXR0b24pID0+IHtcblx0XHRcdC8vY2hlY2sgZm9yIGFuIGl0ZW0gd2l0aCB0aGUgc2FtZSBpZFxuXHRcdFx0Y29uc3QgaW5kZXggPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3VjaGJhckl0ZW1zLmZpbmRJbmRleCgoZWxlbWVudCkgPT4gZWxlbWVudC5pZCA9PT0gaXRlbS5pZClcblx0XHRcdGlmIChpbmRleCA9PT0gLTEpIHtcblx0XHRcdFx0Ly9hZGQgdGhlIGl0ZW0gdG8gdGhlIGFycmF5XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRvdWNoYmFySXRlbXMucHVzaChpdGVtKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly9yZXBsYWNlIHRoZSBpdGVtIGluIHRoZSBhcnJheVxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3VjaGJhckl0ZW1zW2luZGV4XSA9IGl0ZW1cblx0XHRcdH1cblx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZVRvdWNoQmFyKClcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhIG5ldyB0b3VjaGJhciBidXR0b24gaXRlbSBmb3IgdGhlIHVzZXIgdG8gZmlsbCBvdXRcblx0XHQgKiBUT0RPIHJld3JpdGUgdGhpcyBmdW5jdGlvbiB0byBzdXBwb3J0IGFsbCB0b3VjaGJhciBpdGVtc1xuXHRcdCAqIEBwYXJhbSBpdGVtXG5cdFx0ICovXG5cdFx0Y29uc3QgY3JlYXRlVG91Y2hiYXJJdGVtID0gKGl0ZW06IE9ic2lkaWFuVG91Y2hCYXJJdGVtKSA9PiB7XG5cdFx0XHRjb25zdCBpdGVtRWwgPSBpdGVtQ29udGFpbmVyLmNyZWF0ZURpdigndG91Y2hiYXItaXRlbScpO1xuXG5cdFx0XHQvL2NyZWF0ZSB0aGUgbW92ZSBidXR0b25zXG5cdFx0XHRjb25zdCBtb3ZlQnV0dG9ucyA9IGl0ZW1FbC5jcmVhdGVEaXYoXCJtb3ZlLWJ1dHRvbnMtZGl2XCIpO1xuXG5cblx0XHRcdGNvbnN0IG1vdmVVcCA9IG1vdmVCdXR0b25zLmNyZWF0ZUVsKCdidXR0b24nLCBcInRvdWNoYmFyLWl0ZW0tYnV0dG9uXCIpO1xuXHRcdFx0c2V0SWNvbihtb3ZlVXAsICdjaGV2cm9uLXVwJylcblxuXHRcdFx0Y29uc3QgbW92ZURvd24gPSBtb3ZlQnV0dG9ucy5jcmVhdGVFbCgnYnV0dG9uJywgXCJ0b3VjaGJhci1pdGVtLWJ1dHRvblwiKTtcblx0XHRcdHNldEljb24obW92ZURvd24sICdjaGV2cm9uLWRvd24nKVxuXG5cdFx0XHRtb3ZlVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdC8vbW92ZSB0aGUgaXRlbSB1cCBpbiB0aGUgYXJyYXlcblx0XHRcdFx0Y29uc3QgaW5kZXggPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3VjaGJhckl0ZW1zLmZpbmRJbmRleCgoZWxlbWVudCkgPT4gZWxlbWVudC5pZCA9PT0gaXRlbS5pZClcblx0XHRcdFx0aWYgKGluZGV4ID4gMCkge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRvdWNoYmFySXRlbXMuc3BsaWNlKGluZGV4IC0gMSwgMCwgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG91Y2hiYXJJdGVtcy5zcGxpY2UoaW5kZXgsIDEpWzBdKVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZVRvdWNoQmFyKClcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxuXHRcdFx0XHRcdC8vbW92ZSB0aGUgaXRlbSB2aXN1YWxseSB1cFxuXHRcdFx0XHRcdGl0ZW1FbC5wcmV2aW91c1NpYmxpbmc/LmJlZm9yZShpdGVtRWwpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHRtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdFx0Ly9tb3ZlIHRoZSBpdGVtIGRvd24gaW4gdGhlIGFycmF5XG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MudG91Y2hiYXJJdGVtcy5maW5kSW5kZXgoKGVsZW1lbnQpID0+IGVsZW1lbnQuaWQgPT09IGl0ZW0uaWQpXG5cdFx0XHRcdGlmIChpbmRleCA8IHRoaXMucGx1Z2luLnNldHRpbmdzLnRvdWNoYmFySXRlbXMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRvdWNoYmFySXRlbXMuc3BsaWNlKGluZGV4ICsgMSwgMCwgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG91Y2hiYXJJdGVtcy5zcGxpY2UoaW5kZXgsIDEpWzBdKVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZVRvdWNoQmFyKClcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxuXHRcdFx0XHRcdC8vbW92ZSB0aGUgaXRlbSB2aXN1YWxseSBkb3duXG5cdFx0XHRcdFx0aXRlbUVsLm5leHRTaWJsaW5nPy5hZnRlcihpdGVtRWwpXG5cdFx0XHRcdH1cblxuXHRcdFx0fSlcblxuXHRcdFx0Ly9jcmVhdGUgdGhlIGlucHV0IGZpZWxkc1xuXHRcdFx0Y29uc3QgbGFiZWxJbiA9IGl0ZW1FbC5jcmVhdGVFbChcImlucHV0XCIsIHtcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdHZhbHVlOiBpdGVtW1wicHJvcGVydGllc1wiXVsnbGFiZWwnXSxcblx0XHRcdH0pO1xuXHRcdFx0bGFiZWxJbi5jbGFzc0xpc3QuYWRkKCd0b3VjaGJhci1pdGVtLWlucHV0Jylcblx0XHRcdGxhYmVsSW4ucGxhY2Vob2xkZXIgPSAnTGFiZWwnXG5cblx0XHRcdGNvbnN0IGNvbG9ySW4gPSBpdGVtRWwuY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG5cdFx0XHRcdHR5cGU6IFwiY29sb3JcIixcblx0XHRcdFx0dmFsdWU6IGl0ZW1bXCJwcm9wZXJ0aWVzXCJdWydiYWNrZ3JvdW5kQ29sb3InXSxcblx0XHRcdH0pO1xuXHRcdFx0Y29sb3JJbi5jbGFzc0xpc3QuYWRkKCd0b3VjaGJhci1pdGVtLWlucHV0Jylcblx0XHRcdGNvbG9ySW4ucGxhY2Vob2xkZXIgPSAnQmFja2dyb3VuZCBDb2xvcidcblxuXHRcdFx0Y29uc3QgbWFrcm9JbiA9IGl0ZW1FbC5jcmVhdGVFbChcImlucHV0XCIsIHtcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdHZhbHVlOiBpdGVtW1wicHJvcGVydGllc1wiXVsnbWFjcm8nXSxcblx0XHRcdH0pO1xuXHRcdFx0bWFrcm9Jbi5jbGFzc0xpc3QuYWRkKCd0b3VjaGJhci1pdGVtLWlucHV0Jylcblx0XHRcdG1ha3JvSW4uY2xhc3NMaXN0LmFkZChcIndpZGUtaW5wdXRcIilcblx0XHRcdG1ha3JvSW4ucGxhY2Vob2xkZXIgPSAnTWFjcm8nXG5cblx0XHRcdGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGl0ZW1FbC5jcmVhdGVFbCgnYnV0dG9uJywgXCJ0b3VjaGJhci1pdGVtLWJ1dHRvbiByZW1vdmUtYnV0dG9uXCIpO1xuXHRcdFx0c2V0SWNvbihyZW1vdmVCdXR0b24sICd4JylcblxuXHRcdFx0cmVtb3ZlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdC8vcmVtb3ZlIHRoZSBpdGVtXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRvdWNoYmFySXRlbXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3VjaGJhckl0ZW1zLmZpbHRlcigoaSkgPT4gaSAhPT0gaXRlbSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVUb3VjaEJhcigpXG5cdFx0XHRcdGl0ZW1FbC5yZW1vdmUoKTtcblx0XHRcdH1cblxuXHRcdFx0bGFiZWxJbi5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0aXRlbVtcInByb3BlcnRpZXNcIl1bXCJsYWJlbFwiXSA9IGxhYmVsSW4udmFsdWVcblx0XHRcdFx0YXdhaXQgbW9kaWZ5T3JBZGRBcnJheShpdGVtKVxuXHRcdFx0fVxuXG5cdFx0XHRjb2xvckluLm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRpdGVtW1wicHJvcGVydGllc1wiXVtcImJhY2tncm91bmRDb2xvclwiXSA9IGNvbG9ySW4udmFsdWVcblx0XHRcdFx0YXdhaXQgbW9kaWZ5T3JBZGRBcnJheShpdGVtKVxuXHRcdFx0fVxuXG5cdFx0XHRtYWtyb0luLm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRpdGVtW1wicHJvcGVydGllc1wiXVtcIm1hY3JvXCJdID0gbWFrcm9Jbi52YWx1ZVxuXHRcdFx0XHRhd2FpdCBtb2RpZnlPckFkZEFycmF5KGl0ZW0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly90aGlzIGlzIGEgZHJvcGRvd24gdGhhdCBzaG93cyB1cCB3aGVuIGNsaWNraW5nIHRoZSBhZGQgYnV0dG9uIHRvIHNlbGVjdCB0aGUgdHlwZSBvZiB0b3VjaGJhciBpdGVtIHlvdSB3YW50IHRvIGFkZFxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQWRkIFRvdWNoIEJhciBpdGVtJylcblx0XHRcdC5zZXREZXNjKCdDbGljayB0aGUgXCIrXCIgYnV0dG9uIHRvIHN0YXJ0IGNyZWF0aW5nIGEgbmV3IFRvdWNoIEJhciBpdGVtLicpXG5cdFx0XHQuYWRkQnV0dG9uKGNiID0+IHtcblx0XHRcdFx0Y2Iuc2V0QnV0dG9uVGV4dCgnQWRkJylcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdC8vY3JlYXRlIGEgZGl2IGNvbnRhaW5pbmcgYWxsIHRoZSBvcHRpb25zIHVuZGVyIHRoZSBtb3VzZSBjdXJzb3Jcblx0XHRcdFx0XHRcdGNvbnN0IG1vdXNlUG9zID0ge3g6IGV2ZW50Lm9mZnNldFgsIHk6IGV2ZW50Lm9mZnNldFl9XG5cdFx0XHRcdFx0XHRjb25zdCBkcm9wZG93biA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigndG91Y2hiYXItZHJvcGRvd24nKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKG1vdXNlUG9zKVxuXHRcdFx0XHRcdFx0Ly9tb3ZlIHRoZSBpdGVtIHVuZGVyIHRoZSBtb3VzZSBjdXJzb3Jcblx0XHRcdFx0XHRcdGRyb3Bkb3duLnN0eWxlLnJpZ2h0ID0gbW91c2VQb3MueCArICdweCdcblx0XHRcdFx0XHRcdGRyb3Bkb3duLnN0eWxlLnRvcCA9IG1vdXNlUG9zLnkgKyAncHgnXG5cblx0XHRcdFx0XHRcdGRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGRyb3Bkb3duLnJlbW92ZSgpXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0Ly9jcmVhdGUgdGhlIGJ1dHRvbnNcblx0XHRcdFx0XHRcdGNvbnN0IGJ1dHRvbiA9ICh0ZXh0OiBzdHJpbmcsICBvbkNsaWNrOiAoKSA9PiB2b2lkKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGJ1dHRvbiA9IGRyb3Bkb3duLmNyZWF0ZUVsKCdidXR0b24nLCAndG91Y2hiYXItZHJvcGRvd24tYnV0dG9uJyk7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5jcmVhdGVFbCgnc3BhbicsIHt0ZXh0OiB0ZXh0fSk7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b3VjaGJhci1kcm9wZG93bi1idXR0b24nKVxuXHRcdFx0XHRcdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0b25DbGljaygpXG5cdFx0XHRcdFx0XHRcdFx0ZHJvcGRvd24ucmVtb3ZlKClcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YnV0dG9uKCdCdXR0b24nLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNyZWF0ZVRvdWNoYmFySXRlbShuZXcgT2JzaWRpYW5Ub3VjaEJhckJ1dHRvbih7bGFiZWw6ICdCdXR0b24nLCBtYWNybzogJyd9IGFzIFRvdWNoQmFyQnV0dG9uUHJvcGVydGllcykpXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0YnV0dG9uKCdMYWJlbCcsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0Y3JlYXRlVG91Y2hiYXJJdGVtKG5ldyBPYnNpZGlhblRvdWNoQmFyTGFiZWwoe2xhYmVsOiAnTGFiZWwnfSBhcyBUb3VjaEJhckxhYmVsUHJvcGVydGllcykpXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0YnV0dG9uKCdTcGFjZXInLCAoKSA9PiB7XG5cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRidXR0b24oJ1NsaWRlcicsICgpID0+IHtcblxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGJ1dHRvbignU2VnbWVudGVkIENvbnRyb2wnLCAoKSA9PiB7XG5cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRidXR0b24oJ1BvcG92ZXInLCAoKSA9PiB7XG5cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRidXR0b24oJ1NjcnViYmVyJywgKCkgPT4ge1xuXG5cdFx0XHRcdFx0XHR9KTtcblxuXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuc2V0VG9vbHRpcCgnQWRkIGEgbmV3IHRvdWNoYmFyIGl0ZW0nKVxuXHRcdFx0XHRcdC5zZXRJY29uKCdwbHVzJylcblx0XHRcdFx0XHQuc2V0Q3RhKClcblx0XHRcdH0pXG5cblx0XHRjb25zdCBpdGVtQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicpO1xuXHRcdGl0ZW1Db250YWluZXIuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdDdXJyZW50IFRvdWNoIEJhciBJdGVtcyd9KTtcblxuXHRcdGNvbnN0IHRvdWNoYmFySXRlbXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3VjaGJhckl0ZW1zO1xuXHRcdC8vbGlzdCBhbGwgdGhlIGxvYWRlZCBpdGVtc1xuXHRcdGNvbnNvbGUubG9nKHRvdWNoYmFySXRlbXMpXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0b3VjaGJhckl0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjcmVhdGVUb3VjaGJhckl0ZW0odG91Y2hiYXJJdGVtc1tpXSBhcyBPYnNpZGlhblRvdWNoQmFyQnV0dG9uKTtcblx0XHR9XG5cblxuXHRcdC8vYWRkIGRpdmlkZXJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaHInKTtcblx0XHQvL01ha3JvIHNlY3Rpb25cblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwge3RleHQ6IFwiTWFjcm9zXCJ9KVxuXHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHt0ZXh0OiBcIlVzZSBtYWNyb3MgdG8gZ2l2ZSB5b3VyIFRvdWNoIEJhciBpdGVtcyBmdW5jdGlvbmFsaXR5LCBidXQgYmUgY2FyZWZ1bCBhcyB0aGVzZSBjYW4gaGF2ZSB0aGUgYWJpbGl0eSB0byBtb2RpZnkgZmlsZXMgaW4gdW5pbnRlbmRlZCB3YXlzISBJZiB5b3UgdW5zdXJlIHBsZWFzZSBjb25zaWRlciB0cnlpbmcgb3V0IHRoZSBtYWNybyBpbiBhIG5ldyB2YXVsdCBmaXJzdC4gXCJ9KVxuXHRcdGRlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoXCJ0b3VjaGJhci1zZXR0aW5ncy1kZXNjcmlwdGlvblwiKVxuXHRcdGRlc2NyaXB0aW9uLmNyZWF0ZUVsKFwiYVwiLCB7XG5cdFx0XHR0ZXh0OiBcIkxpc3Qgb2YgYXZhaWxhYmxlIGtleWNvZGVzXCIsXG5cdFx0XHRocmVmOiBcImh0dHBzOi8vd3d3LmVsZWN0cm9uanMub3JnL2RvY3MvbGF0ZXN0L2FwaS9hY2NlbGVyYXRvciNhdmFpbGFibGUta2V5LWNvZGVzXCIsXG5cdFx0fSlcblxuXHRcdGNvbnN0IG1hY3JvVGFibGUgPSBjb250YWluZXJFbC5jcmVhdGVFbChcInRhYmxlXCIsIFwidG91Y2hiYXItbWFjcm8tdGFibGVcIilcblx0XHRjb25zdCBtYWNyb1RhYmxlSGVhZCA9IG1hY3JvVGFibGUuY3JlYXRlRWwoXCJ0aGVhZFwiKVxuXHRcdGNvbnN0IG1hY3JvVGFibGVIZWFkUm93ID0gbWFjcm9UYWJsZUhlYWQuY3JlYXRlRWwoXCJ0clwiKVxuXHRcdGNvbnN0IG1hY3JvVGFibGVIZWFkUm93TmFtZSA9IG1hY3JvVGFibGVIZWFkUm93LmNyZWF0ZUVsKFwidGhcIilcblx0XHRjb25zdCBtYWNyb1RhYmxlSGVhZFJvd05hbWUyID0gbWFjcm9UYWJsZUhlYWRSb3cuY3JlYXRlRWwoXCJ0aFwiKVxuXHRcdGNvbnN0IG1hY3JvVGFibGVIZWFkUm93TmFtZTMgPSBtYWNyb1RhYmxlSGVhZFJvdy5jcmVhdGVFbChcInRoXCIpXG5cdFx0bWFjcm9UYWJsZUhlYWRSb3dOYW1lLnNldFRleHQoXCJTeW50YXhcIilcblx0XHRtYWNyb1RhYmxlSGVhZFJvd05hbWUyLnNldFRleHQoXCJEZXNjcmlwdGlvblwiKVxuXHRcdG1hY3JvVGFibGVIZWFkUm93TmFtZTMuc2V0VGV4dChcIkV4YW1wbGVcIilcblx0XHRjb25zdCBtYWNyb1RhYmxlQm9keSA9IG1hY3JvVGFibGUuY3JlYXRlRWwoXCJ0Ym9keVwiKVxuXG5cblx0XHQvL2xvYWQgdGhlIHN5bnRheCBuYW1lcyBhbmQgZGVzY3JpcHRpb25zIGZyb20gbWFjcm9fZGVzYy5qc29uXG5cdFx0Y29uc3QgeyBtYWNyb3MgfSA9IHJlcXVpcmUoJy4vbWFjcm9fZGVzYy5qc29uJylcblxuXHRcdC8vbG9vcCB0aHJvdWdoIHRoZSBtYWtybyBkZXNjcmlwdGlvbnMgYW5kIGFkZCB0aGVtIHRvIHRoZSB0YWJsZVxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWFjcm9zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCByb3cgPSBtYWNyb1RhYmxlQm9keS5jcmVhdGVFbChcInRyXCIpXG5cdFx0XHRjb25zdCBuYW1lID0gcm93LmNyZWF0ZUVsKFwidGRcIiwgXCJ0b3VjaGJhci1tYWNyby10YWJsZS1ib3JkZXJcIilcblx0XHRcdGNvbnN0IGRlc2MgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiLCBcInRvdWNoYmFyLW1hY3JvLXRhYmxlLWJvcmRlclwiKVxuXHRcdFx0Y29uc3QgZXhhbXBsZSA9IHJvdy5jcmVhdGVFbChcInRkXCIsIFwidG91Y2hiYXItbWFjcm8tdGFibGUtYm9yZGVyXCIpXG5cdFx0XHRuYW1lLnNldFRleHQobWFjcm9zW2ldW1wic3ludGF4XCJdKVxuXHRcdFx0ZGVzYy5zZXRUZXh0KG1hY3Jvc1tpXVtcImRlc2NyaXB0aW9uXCJdKVxuXHRcdFx0ZXhhbXBsZS5zZXRUZXh0KG1hY3Jvc1tpXVtcImV4YW1wbGVcIl0pXG5cdFx0fVxuXG5cdH1cblxufVxuXG5cbiIsICJpbXBvcnQge2V4ZWN1dGVNYWNyb30gZnJvbSBcIi4uL21hY3JvXCI7XG5pbXBvcnQge0FwcH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cblxuXG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHJlcGVyZXNlbnRpbmcgYSB0b3VjaCBiYXIgaXRlbVxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgT2JzaWRpYW5Ub3VjaEJhckl0ZW0ge1xuXHRwcm9wZXJ0aWVzOiBhbnk7XG5cdHR5cGU6IFRvdWNoQmFySXRlbVR5cGU7XG5cdGlkOiBzdHJpbmc7XG5cdGFwcDogQXBwO1xuXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzOiBhbnksIGlkOiBzdHJpbmcgPSBcIlwiKSB7XG5cdFx0dGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcblx0XHR0aGlzLmlkID0gaWQgPT09IFwiXCIgPyB0aGlzLmdlbmVyYXRlSUQoKSA6IGlkO1xuXHR9XG5cblx0Z2VuZXJhdGVJRCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgcHJvcGVydGllcyBvZiB0aGUgdG91Y2ggYmFyIGl0ZW1cblx0ICogQHJldHVybnMge2FueX1cblx0ICovXG5cdGdldFByb3BlcnRpZXMoKTogYW55IHtcblx0XHRyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIG9iamVjdCwgdGhhdCBjYW4gZGlyZWN0bHkgYmUgcHV0IGludG8gdGhlIHRvdWNoYmFyIGFycmF5XG5cdCAqL1xuXHRhYnN0cmFjdCBnZXREaXNwbGF5QWJsZUl0ZW0oKTogYW55O1xufVxuXG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgc2VyaWFsaXplZCB2ZXJzaW9uIG9mIGEgdG91Y2ggYmFyIGl0ZW1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkVG91Y2hCYXJJdGVtIHtcblx0dHlwZTogVG91Y2hCYXJJdGVtVHlwZVxuXHRpZDogc3RyaW5nXG5cdHByb3BlcnRpZXM6IGFueVxufVxuXG5cblxuLyoqXG4gKiBBbGwgdGhlIHBvc3NpYmxlIHR5cGVzIG9mIHRvdWNoIGJhciBpdGVtc1xuICovXG5leHBvcnQgZW51bSBUb3VjaEJhckl0ZW1UeXBlIHtcblx0T2JzaWRpYW5Ub3VjaEJhckJ1dHRvbiA9IFwiT2JzaWRpYW5Ub3VjaEJhckJ1dHRvblwiLFxuXHRPYnNpZGlhblRvdWNoQmFyQ29sb3JQaWNrZXIgPSBcIk9ic2lkaWFuVG91Y2hCYXJDb2xvclBpY2tlclwiLFxuXHRPYnNpZGlhblRvdWNoQmFyR3JvdXAgPSBcIk9ic2lkaWFuVG91Y2hCYXJHcm91cFwiLFxuXHRPYnNpZGlhblRvdWNoQmFyTGFiZWwgPSBcIk9ic2lkaWFuVG91Y2hCYXJMYWJlbFwiLFxuXHRPYnNpZGlhblRvdWNoQmFyUG9wb3ZlciA9IFwiT2JzaWRpYW5Ub3VjaEJhclBvcG92ZXJcIixcblx0T2JzaWRpYW5Ub3VjaEJhclNjcnViYmVyID0gXCJPYnNpZGlhblRvdWNoQmFyU2NydWJiZXJcIixcblx0T2JzaWRpYW5Ub3VjaEJhclNlZ21lbnRlZENvbnRyb2wgPSBcIk9ic2lkaWFuVG91Y2hCYXJTZWdtZW50ZWRDb250cm9sXCIsXG5cdE9ic2lkaWFuVG91Y2hCYXJTbGlkZXIgPSBcIk9ic2lkaWFuVG91Y2hCYXJTbGlkZXJcIixcblx0T2JzaWRpYW5Ub3VjaEJhclNwYWNlciA9IFwiT2JzaWRpYW5Ub3VjaEJhclNwYWNlclwiLFxufVxuIiwgImltcG9ydCB7QXBwfSBmcm9tIFwib2JzaWRpYW5cIjtcbmNvbnN0IGVsZWN0cm9uID0gcmVxdWlyZSgnZWxlY3Ryb24nKS5yZW1vdGVcbi8qXG4qIFRoaXMgZnVuY3Rpb24gZXhlY3V0ZXMgdGhlIG1ha3JvIHdyaXR0ZW4gaW4gdGhlIG1ha3JvIGxhbmd1YWdlXG4qIHwgU3ludGF4ICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4qIHwtLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4qIHwgW0tFWUNPREVdIHwgVGhpcyBpcyBob3cgeW91IHByZXNzIGEga2V5LCB3aGVyZSBgS0VZQ09ERWAgaXMgdGhlIG5hbWUgb2YgdGhlIGtleSB5b3Ugd2FudCBwcmVzc2VkICAgICAgICAgICB8XG4qIHwgKyAgICAgICAgIHwgKyBpcyB1c2VkIHRvIGFkZCBhIG1vZGlmaWVyIGVnOiBbQ21kXStbUF0gZm9yIHByZXNzaW5nIENvbW1hbmQtUCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuKiB8ICxERUxBWSwgICB8ICwgaXMgdXNlZCB0byBhZGQgYSBkZWxheSBiZXR3ZWVuIGtleSBwcmVzc2VzIHdoZXJlIGBERUxBWWAgaXMgdGhlIGFtb3VudCBpbiBtcyAgICAgICAgICAgICAgICAgfFxuKiB8IFwiVEVYVFwiICAgIHwgXCIgaXMgdXNlZCB0byBhZGQgdGV4dCB3aGVyZSBgVEVYVGAgaXMgdGhlIHRleHQgeW91IHdhbnQgdG8gYWRkLiBUaGUgcGx1Z2luIHdpbGwgdHlwZSB0aGlzIHRleHQgfFxuKiB8ICNDT01NRU5UIyAgICAgICAgIHwgIyBpcyB1c2VkIHRvIGFkZCBhIGNvbW1lbnQgd2hlcmUgYENPTU1FTlRgIGlzIHRoZSBjb21tZW50IHlvdSB3YW50IHRvIGFkZCAgKE5PVCBJTVBMRU1FTlRFRCkgICB8XG4qIHwgXFwgICAgICAgICB8IFxcIGlzIHVzZWQgdG8gZXNjYXBlIHRoZSBuZXh0IGNoYXJhY3RlciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuKiB8ICggKXtSRVBFQVR9IHwgKCkgaXMgdXNlZCB0byByZXBlYXQgdGhlIHByZXZpb3VzIGNvbW1hbmQgd2hlcmUgYFJFUEVBVGAgaXMgdGhlIGFtb3VudCBvZiB0aW1lcyB0byByZXBlYXQgICAgICB8XG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZU1hY3JvKGFwcDogQXBwLCBtYWtybzogc3RyaW5nKSB7XG5cdC8vcGFyc2UgdGhlIGlucHV0LCB3aGljaCBpcyBqdXN0IG9uZSBsb25nIHN0cmluZyBvZiB0aGUgY29tbWFuZHMgYWJvdmVcblx0Y29uc3QgY29tbWFuZHMgPSBwYXJzZU1hY3JvKG1ha3JvKVxuXHQvL2V4ZWN1dGUgdGhlIGNvbW1hbmRzXG5cdGV4ZWN1dGVDb21tYW5kcyhhcHAsIGNvbW1hbmRzKVxufVxuXG5sZXQgcmVwZWF0Y291bnRlciA9IDBcbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVDb21tYW5kcyhhcHA6IEFwcCwgY29tbWFuZHM6IE1hY3JvQ29tbWFuZFtdKSB7XG5cdGNvbnNvbGUubG9nKGNvbW1hbmRzKVxuXHRmb3IgKGNvbnN0IGNvbW1hbmQgb2YgY29tbWFuZHMpIHtcblx0XHRpZiAoY29tbWFuZC5jb21tYW5kID09PSBNYWNyb0NvbW1hbmRUeXBlLlJlcGVhdFN0YXJ0KSB7XG5cdFx0XHRyZXBlYXRjb3VudGVyID0gcGFyc2VJbnQoY29tbWFuZC5hcmd1bWVudCk7XG5cdFx0fVxuXG5cdFx0Ly9yZWN1cnNpdmVseSBleGVjdXRlIHRoZSBjb21tYW5kcyBpbnNpZGUgdGhlIHJlcGVhdCBjb21tYW5kXG5cdFx0aWYgKHJlcGVhdGNvdW50ZXIgPiAwKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlcGVhdGNvdW50ZXIgLSAxOyBpKyspIHtcblx0XHRcdFx0Ly9nZXQgdGhlIHN1YmFycmF5IHdoaWNoIGlzIGV2ZXJ5dGhpbmcgYmV0d2VlbiB0aGUgcmVwZWF0IHN0YXJ0IGFuZCB0aGUgcmVwZWF0IGVuZFxuXHRcdFx0XHRjb25zdCBpbnNpZGVDb21tYW5kcyA9IGNvbW1hbmRzLnNsaWNlKGNvbW1hbmRzLmluZGV4T2YoY29tbWFuZCkgKyAxLCBjb21tYW5kcy5pbmRleE9mKDxNYWNyb0NvbW1hbmQ+Y29tbWFuZHMuZmluZCgoY29tbWFuZCkgPT4gY29tbWFuZC5jb21tYW5kID09PSBNYWNyb0NvbW1hbmRUeXBlLlJlcGVhdEVuZCkpKVxuXHRcdFx0XHRleGVjdXRlQ29tbWFuZHMoYXBwLCBpbnNpZGVDb21tYW5kcylcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL2NoZWNrIGlmIHRoZSBjdXJyZW50IGNvbW1hbmQgaXMgYSBrZXljb2RlIGNvbW1hbmQgYW5kIHRoZSBuZXh0IGlzIGEgcHJlc3NrZXlzIGNvbW1hbmRcblx0XHRpZiAoY29tbWFuZC5jb21tYW5kID09PSBNYWNyb0NvbW1hbmRUeXBlLlByZXNzS2V5ICYmIGNvbW1hbmRzW2NvbW1hbmRzLmluZGV4T2YoY29tbWFuZCkgKyAxXT8uY29tbWFuZCA9PT0gTWFjcm9Db21tYW5kVHlwZS5QcmVzc0tleXMgJiYgY29tbWFuZHNbY29tbWFuZHMuaW5kZXhPZihjb21tYW5kKSArIDJdPy5jb21tYW5kID09PSBNYWNyb0NvbW1hbmRUeXBlLlByZXNzS2V5KSB7XG5cdFx0XHQvL3ByZXNzIHRob3NlIHR3byBrZXlzIHRvZ2V0aGVyXG5cdFx0XHRwcmVzc0tleXMoYXBwLCBjb21tYW5kLmFyZ3VtZW50LCBjb21tYW5kc1tjb21tYW5kcy5pbmRleE9mKGNvbW1hbmQpICsgMl0/LmFyZ3VtZW50KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL2V4ZWN1dGUgdGhlIGNvbW1hbmRcblx0XHRcdHN3aXRjaCAoY29tbWFuZC5jb21tYW5kKSB7XG5cdFx0XHRcdGNhc2UgTWFjcm9Db21tYW5kVHlwZS5QcmVzc0tleTpcblx0XHRcdFx0XHRwcmVzc0tleShhcHAsIGNvbW1hbmQuYXJndW1lbnQpXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0Y2FzZSBNYWNyb0NvbW1hbmRUeXBlLkFkZFRleHQ6XG5cdFx0XHRcdFx0YWRkVGV4dChhcHAsIGNvbW1hbmQuYXJndW1lbnQpXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0Y2FzZSBNYWNyb0NvbW1hbmRUeXBlLkRlbGF5OlxuXHRcdFx0XHRcdGF3YWl0IHdhaXRGb3IoY29tbWFuZC5hcmd1bWVudClcblx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRjYXNlIE1hY3JvQ29tbWFuZFR5cGUuQWRkQ29tbWVudDpcblx0XHRcdFx0XHRicmVha1xuXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHdhaXRGb3IoYXJndW1lbnQ6IHN0cmluZykge1xuXHQvL3NsZWVwIGZvciB0aGUgYW1vdW50IG9mIHRpbWUgc3BlY2lmaWVkIGluIHRoZSBhcmd1bWVudFxuXHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHBhcnNlSW50KGFyZ3VtZW50KSkpXG59XG5cblxuZnVuY3Rpb24gYWRkVGV4dChhcHA6IEFwcCwgdGV4dDogc3RyaW5nKSB7XG5cdC8vYWRkIHRoZSB0ZXh0XG5cdGNvbnNvbGUubG9nKHRleHQpXG5cdC8vc3BsaXQgdHRoZSB0ZXh0IGludG8gc2V0cyBvZiAzIGNoYXJhY3RlcnNcblx0Y29uc3QgY2hhcmFjdGVycyA9IHRleHQuc3BsaXQoXCJcIilcblx0Y29uc3Qgd2luID0gZWxlY3Ryb24uQnJvd3NlcldpbmRvdy5nZXRGb2N1c2VkV2luZG93KClcblx0Y2hhcmFjdGVycy5mb3JFYWNoKChjaGFyKSA9PiB7XG5cdFx0d2luLndlYkNvbnRlbnRzLnNlbmRJbnB1dEV2ZW50KHtrZXlDb2RlOiBjaGFyLCB0eXBlOiBcImNoYXJcIn0pXG5cdH0pXG59XG5cbmZ1bmN0aW9uIHByZXNzS2V5cyhhcHA6IEFwcCwga2V5MTogc3RyaW5nLCBrZXkyOiBzdHJpbmcpIHtcblx0Ly9wcmVzcyB0aGUga2V5c1xuXHRjb25zdCB3aW4gPSBlbGVjdHJvbi5Ccm93c2VyV2luZG93LmdldEZvY3VzZWRXaW5kb3coKVxuXHQvL3NsZWVwIGZvciAxMG1zXG5cdGNvbnN0IG1vZHMgPSBrZXkxLnNwbGl0KFwiIFwiKVxuXHR3aW4ud2ViQ29udGVudHMuc2VuZElucHV0RXZlbnQoe2tleUNvZGU6IGtleTIsIHR5cGU6IFwia2V5RG93blwiLCBtb2RpZmllcnM6IG1vZHN9KVxuXG5cdHdpbi53ZWJDb250ZW50cy5zZW5kSW5wdXRFdmVudCh7a2V5Q29kZToga2V5MiwgdHlwZTogXCJrZXlVcFwifSlcbn1cblxuZnVuY3Rpb24gcHJlc3NLZXkoYXBwOiBBcHAsIGtleTogc3RyaW5nKSB7XG5cdC8vcHJlc3MgdGhlIGtleVxuXHRjb25zb2xlLmxvZyhrZXkpXG5cdGNvbnN0IGJyb3dzZXJXaW5kb3cgPSBlbGVjdHJvbi5Ccm93c2VyV2luZG93LmdldEZvY3VzZWRXaW5kb3coKVxuXHRicm93c2VyV2luZG93LndlYkNvbnRlbnRzLnNlbmRJbnB1dEV2ZW50KHtrZXlDb2RlOiBrZXksIHR5cGU6IFwia2V5RG93blwifSk7XG5cdGJyb3dzZXJXaW5kb3cud2ViQ29udGVudHMuc2VuZElucHV0RXZlbnQoe2tleUNvZGU6IGtleSwgdHlwZTogXCJrZXlVcFwifSk7XG59XG5cbi8qKlxuICogVGhpcyBob3JyaWJsZSBtb25zdHJvc2l0eSBvZiBhIGZ1bmN0aW9uIHBhcnNlcyB0aGUgc3RyaW5nIG9mIG1hY3JvcyBpbnQgYW4gYXJyYXkgb2YgY29tbWFuZHNcbiAqIEBwYXJhbSBtYWNyb1xuICogQHJldHVybiB7TWFjcm9Db21tYW5kW119IHRoZSBhcnJheSBvZiBjb21tYW5kc1xuICovXG5mdW5jdGlvbiBwYXJzZU1hY3JvKG1hY3JvOiBzdHJpbmcpIHtcblx0Ly9zcGxpdCB0aGUgbWFjcm8gaW50byBjb21tYW5kc1xuXHRjb25zdCBjaGFyYWN0ZXJzID0gbWFjcm8uc3BsaXQoXCJcIilcblx0Ly9leHRyYWN0IHRoZSBjb21tYW5kcyBhbmQgaXRzIGFyZ3VtZW50c1xuXHRjb25zdCBwYXJzZWRDb21tYW5kczogTWFjcm9Db21tYW5kW10gPSBbXVxuXHRsZXQgY3VycmVudENvbW1hbmQgPSBcIlwiXG5cdGxldCBjdXJyZW50QXJndW1lbnQgPSBcIlwiXG5cdGxldCBpc0VzY2FwZWQgPSBmYWxzZVxuXHRsZXQgY29tbWFuZFN0YXJ0ZWQgPSBmYWxzZVxuXHRsZXQgY29tbWFuZEVzY2FwZWQgPSBmYWxzZVxuXHRjaGFyYWN0ZXJzLmZvckVhY2goKGNvbW1hbmQpID0+IHtcblx0XHQvL2lmIHRoZSBjdXJyZW50IGNoYXJhY3RlciBpcyBhIFsgYWRkIHRoYXQgYW5kIGFsbCB0aGUgc3Vic2VxdWVudCBjaGFyYWN0ZXJzIHVudGlsIHRoZSBuZXh0IF0gdG8gdGhlIGN1cnJlbnQgY29tbWFuZFxuXHRcdHN3aXRjaCAoY29tbWFuZCkge1xuXHRcdFx0Y2FzZSBcIltcIjpcblx0XHRcdFx0aWYoaXNFc2NhcGVkIHx8IGNvbW1hbmRFc2NhcGVkKXtcblx0XHRcdFx0XHRjdXJyZW50QXJndW1lbnQgKz0gY29tbWFuZFxuXHRcdFx0XHRcdGlzRXNjYXBlZCA9IGZhbHNlXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb21tYW5kU3RhcnRlZCA9IHRydWVcblx0XHRcdFx0XHRjdXJyZW50Q29tbWFuZCArPSBjb21tYW5kXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0Y2FzZSBcIl1cIjpcblx0XHRcdFx0aWYoaXNFc2NhcGVkIHx8IGNvbW1hbmRFc2NhcGVkKXtcblx0XHRcdFx0XHRjdXJyZW50QXJndW1lbnQgKz0gY29tbWFuZFxuXHRcdFx0XHRcdGlzRXNjYXBlZCA9IGZhbHNlXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fSBlbHNlIGlmIChjb21tYW5kU3RhcnRlZCkge1xuXHRcdFx0XHRcdGNvbW1hbmRTdGFydGVkID0gZmFsc2Vcblx0XHRcdFx0XHRjdXJyZW50Q29tbWFuZCArPSBjb21tYW5kXG5cdFx0XHRcdFx0cGFyc2VkQ29tbWFuZHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjb21tYW5kOiBNYWNyb0NvbW1hbmRUeXBlLlByZXNzS2V5LFxuXHRcdFx0XHRcdFx0YXJndW1lbnQ6IGN1cnJlbnRBcmd1bWVudFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGN1cnJlbnRBcmd1bWVudCA9IFwiXCJcblx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGN1cnJlbnRBcmd1bWVudCArPSBjb21tYW5kXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0Y2FzZSBcIitcIjpcblx0XHRcdFx0aWYgKGlzRXNjYXBlZCB8fCBjb21tYW5kRXNjYXBlZCl7XG5cdFx0XHRcdFx0Y3VycmVudEFyZ3VtZW50ICs9IGNvbW1hbmRcblx0XHRcdFx0XHRpc0VzY2FwZWQgPSBmYWxzZVxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29tbWFuZFN0YXJ0ZWQgPSBmYWxzZVxuXHRcdFx0XHRcdGN1cnJlbnRDb21tYW5kICs9IGNvbW1hbmRcblx0XHRcdFx0XHRwYXJzZWRDb21tYW5kcy5wdXNoKHtcblx0XHRcdFx0XHRcdGNvbW1hbmQ6IE1hY3JvQ29tbWFuZFR5cGUuUHJlc3NLZXlzLFxuXHRcdFx0XHRcdFx0YXJndW1lbnQ6IFwiXCJcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRjdXJyZW50QXJndW1lbnQgPSBcIlwiXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0Y2FzZSBcIlxcXCJcIjpcblx0XHRcdFx0aWYgKGlzRXNjYXBlZCl7XG5cdFx0XHRcdFx0Y3VycmVudEFyZ3VtZW50ICs9IGNvbW1hbmRcblx0XHRcdFx0XHRpc0VzY2FwZWQgPSBmYWxzZVxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29tbWFuZEVzY2FwZWQgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbW1hbmRTdGFydGVkID0gIWNvbW1hbmRTdGFydGVkXG5cdFx0XHRcdFx0Y3VycmVudENvbW1hbmQgKz0gY29tbWFuZFxuXHRcdFx0XHRcdGlmICghY29tbWFuZFN0YXJ0ZWQpIHtcblx0XHRcdFx0XHRcdHBhcnNlZENvbW1hbmRzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRjb21tYW5kOiBNYWNyb0NvbW1hbmRUeXBlLkFkZFRleHQsXG5cdFx0XHRcdFx0XHRcdGFyZ3VtZW50OiBjdXJyZW50QXJndW1lbnRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y29tbWFuZEVzY2FwZWQgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y3VycmVudEFyZ3VtZW50ID0gXCJcIlxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH1cblx0XHRcdGNhc2UgXCIjXCI6XG5cdFx0XHRcdGlmIChpc0VzY2FwZWQgfHwgY29tbWFuZEVzY2FwZWQpe1xuXHRcdFx0XHRcdGN1cnJlbnRBcmd1bWVudCArPSBjb21tYW5kXG5cdFx0XHRcdFx0aXNFc2NhcGVkID0gZmFsc2Vcblx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbW1hbmRTdGFydGVkID0gIWNvbW1hbmRTdGFydGVkXG5cdFx0XHRcdFx0Y3VycmVudENvbW1hbmQgKz0gY29tbWFuZFxuXHRcdFx0XHRcdGlmICghY29tbWFuZFN0YXJ0ZWQpIHtcblx0XHRcdFx0XHRcdHBhcnNlZENvbW1hbmRzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRjb21tYW5kOiBNYWNyb0NvbW1hbmRUeXBlLkFkZENvbW1lbnQsXG5cdFx0XHRcdFx0XHRcdGFyZ3VtZW50OiBjdXJyZW50QXJndW1lbnRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjdXJyZW50QXJndW1lbnQgPSBcIlwiXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0Y2FzZSBcIlxcXFxcIjpcblx0XHRcdFx0aXNFc2NhcGVkID0gdHJ1ZVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Y2FzZSBcIixcIjpcblx0XHRcdFx0aWYgKGlzRXNjYXBlZCB8fCBjb21tYW5kRXNjYXBlZCl7XG5cdFx0XHRcdFx0Y3VycmVudEFyZ3VtZW50ICs9IGNvbW1hbmRcblx0XHRcdFx0XHRpc0VzY2FwZWQgPSBmYWxzZVxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29tbWFuZFN0YXJ0ZWQgPSAhY29tbWFuZFN0YXJ0ZWRcblx0XHRcdFx0XHRjdXJyZW50Q29tbWFuZCArPSBjb21tYW5kXG5cdFx0XHRcdFx0aWYgKCFjb21tYW5kU3RhcnRlZCkge1xuXHRcdFx0XHRcdFx0cGFyc2VkQ29tbWFuZHMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdGNvbW1hbmQ6IE1hY3JvQ29tbWFuZFR5cGUuRGVsYXksXG5cdFx0XHRcdFx0XHRcdGFyZ3VtZW50OiBjdXJyZW50QXJndW1lbnRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjdXJyZW50QXJndW1lbnQgPSBcIlwiXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0Ly9yZXBlYXQgdGltZXIgc3RhcnRcblx0XHRcdGNhc2UgXCJ7XCI6XG5cdFx0XHRcdGlmIChpc0VzY2FwZWQgfHwgY29tbWFuZEVzY2FwZWQpe1xuXHRcdFx0XHRcdGN1cnJlbnRBcmd1bWVudCArPSBjb21tYW5kXG5cdFx0XHRcdFx0aXNFc2NhcGVkID0gZmFsc2Vcblx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbW1hbmRTdGFydGVkID0gIWNvbW1hbmRTdGFydGVkXG5cdFx0XHRcdFx0Y3VycmVudENvbW1hbmQgKz0gY29tbWFuZFxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH1cblx0XHRcdC8vcmVwZWF0IHRpbWVyIGVuZFxuXHRcdFx0Y2FzZSBcIn1cIjpcblx0XHRcdFx0aWYgKGlzRXNjYXBlZCB8fCBjb21tYW5kRXNjYXBlZCl7XG5cdFx0XHRcdFx0Y3VycmVudEFyZ3VtZW50ICs9IGNvbW1hbmRcblx0XHRcdFx0XHRpc0VzY2FwZWQgPSBmYWxzZVxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29tbWFuZFN0YXJ0ZWQgPSBmYWxzZVxuXHRcdFx0XHRcdGN1cnJlbnRDb21tYW5kICs9IGNvbW1hbmRcblx0XHRcdFx0XHRpZiAoIWNvbW1hbmRTdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRwYXJzZWRDb21tYW5kcy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0Y29tbWFuZDogTWFjcm9Db21tYW5kVHlwZS5SZXBlYXRTdGFydCxcblx0XHRcdFx0XHRcdFx0YXJndW1lbnQ6IGN1cnJlbnRBcmd1bWVudFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGN1cnJlbnRBcmd1bWVudCA9IFwiXCJcblx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHR9XG5cdFx0XHRjYXNlIFwiKFwiOlxuXHRcdFx0XHRpZiAoaXNFc2NhcGVkIHx8IGNvbW1hbmRFc2NhcGVkKXtcblx0XHRcdFx0XHRjdXJyZW50QXJndW1lbnQgKz0gY29tbWFuZFxuXHRcdFx0XHRcdGlzRXNjYXBlZCA9IGZhbHNlXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjdXJyZW50Q29tbWFuZCArPSBjb21tYW5kXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0Y2FzZSBcIilcIjpcblx0XHRcdFx0aWYgKGlzRXNjYXBlZCB8fCBjb21tYW5kRXNjYXBlZCl7XG5cdFx0XHRcdFx0Y3VycmVudEFyZ3VtZW50ICs9IGNvbW1hbmRcblx0XHRcdFx0XHRpc0VzY2FwZWQgPSBmYWxzZVxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y3VycmVudENvbW1hbmQgKz0gY29tbWFuZFxuXHRcdFx0XHRcdGlmICghY29tbWFuZFN0YXJ0ZWQpIHtcblx0XHRcdFx0XHRcdHBhcnNlZENvbW1hbmRzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRjb21tYW5kOiBNYWNyb0NvbW1hbmRUeXBlLlJlcGVhdEVuZCxcblx0XHRcdFx0XHRcdFx0YXJndW1lbnQ6IFwiXCJcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHR9XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRpZiAoY29tbWFuZFN0YXJ0ZWQpIHtcblx0XHRcdFx0XHRjdXJyZW50QXJndW1lbnQgKz0gY29tbWFuZFxuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrXG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIHBhcnNlZENvbW1hbmRzXG59XG5cblxuaW50ZXJmYWNlIE1hY3JvQ29tbWFuZCB7XG5cdGNvbW1hbmQ6IE1hY3JvQ29tbWFuZFR5cGUsXG5cdGFyZ3VtZW50OiBzdHJpbmdcbn1cblxuZW51bSBNYWNyb0NvbW1hbmRUeXBlIHtcblx0UHJlc3NLZXksXG5cdFByZXNzS2V5cyxcblx0QWRkVGV4dCxcblx0QWRkQ29tbWVudCxcblx0UmVwZWF0U3RhcnQsXG5cdFJlcGVhdEVuZCxcblx0RGVsYXlcbn1cblxuIiwgImltcG9ydCB7T2JzaWRpYW5Ub3VjaEJhckl0ZW0sIFRvdWNoQmFySXRlbVR5cGV9IGZyb20gXCIuLi90b3VjaEJhckl0ZW1zXCI7XG5pbXBvcnQge2V4ZWN1dGVNYWNyb30gZnJvbSBcIi4uLy4uL21hY3JvXCI7XG5jb25zdCB7VG91Y2hCYXJ9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKS5yZW1vdGVcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdG91Y2ggYmFyIGJ1dHRvblxuICovXG5leHBvcnQgY2xhc3MgT2JzaWRpYW5Ub3VjaEJhckJ1dHRvbiBleHRlbmRzIE9ic2lkaWFuVG91Y2hCYXJJdGVtIHtcblx0Y29uc3RydWN0b3IocHJvcGVydGllczogVG91Y2hCYXJCdXR0b25Qcm9wZXJ0aWVzKSB7XG5cdFx0c3VwZXIocHJvcGVydGllcyk7XG5cdFx0dGhpcy50eXBlID0gVG91Y2hCYXJJdGVtVHlwZS5PYnNpZGlhblRvdWNoQmFyQnV0dG9uO1xuXHR9XG5cblx0Z2V0RGlzcGxheUFibGVJdGVtKCk6IGFueSB7XG5cdFx0cmV0dXJuIG5ldyBUb3VjaEJhci5Ub3VjaEJhckJ1dHRvbih7XG5cdFx0XHRsYWJlbDogdGhpcy5wcm9wZXJ0aWVzW1wibGFiZWxcIl0sXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcGVydGllc1tcImJhY2tncm91bmRDb2xvclwiXSxcblx0XHRcdGNsaWNrOiAoKSA9PiB7XG5cdFx0XHRcdGV4ZWN1dGVNYWNybyh0aGlzLmFwcCwgdGhpcy5wcm9wZXJ0aWVzW1wibWFjcm9cIl0pXG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb3VjaEJhckJ1dHRvblByb3BlcnRpZXMge1xuXHRsYWJlbDogc3RyaW5nXG5cdGJhY2tncm91bmRDb2xvcjogc3RyaW5nXG5cdG1hY3JvOiBzdHJpbmdcbn1cblxuXG4iLCAiaW1wb3J0IHtTZXJpYWxpemVkVG91Y2hCYXJJdGVtLCBUb3VjaEJhckl0ZW1UeXBlfSBmcm9tIFwiLi90b3VjaEJhckl0ZW1zXCI7XG5pbXBvcnQge09ic2lkaWFuVG91Y2hCYXJCdXR0b259IGZyb20gXCIuL2l0ZW1zL2J1dHRvblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVUb3VjaEJhckl0ZW0oc2VyaWFsaXplZEl0ZW06IFNlcmlhbGl6ZWRUb3VjaEJhckl0ZW0pIHtcblx0c3dpdGNoIChzZXJpYWxpemVkSXRlbS50eXBlKSB7XG5cdFx0Y2FzZSBUb3VjaEJhckl0ZW1UeXBlLk9ic2lkaWFuVG91Y2hCYXJCdXR0b246XG5cdFx0XHRyZXR1cm4gbmV3IE9ic2lkaWFuVG91Y2hCYXJCdXR0b24oc2VyaWFsaXplZEl0ZW0ucHJvcGVydGllcyk7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdG91Y2ggYmFyIGl0ZW0gdHlwZTogXCIgKyBzZXJpYWxpemVkSXRlbS50eXBlKTtcblx0fVxufVxuIiwgImltcG9ydCB7T2JzaWRpYW5Ub3VjaEJhckl0ZW0sIFRvdWNoQmFySXRlbVR5cGV9IGZyb20gXCIuLi90b3VjaEJhckl0ZW1zXCI7XG5jb25zdCB7VG91Y2hCYXJ9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKS5yZW1vdGVcblxuXG5leHBvcnQgY2xhc3MgT2JzaWRpYW5Ub3VjaEJhckxhYmVsIGV4dGVuZHMgT2JzaWRpYW5Ub3VjaEJhckl0ZW0ge1xuXHRjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzOiBUb3VjaEJhckxhYmVsUHJvcGVydGllcykge1xuXHRcdHN1cGVyKHByb3BlcnRpZXMpO1xuXHRcdHRoaXMudHlwZSA9IFRvdWNoQmFySXRlbVR5cGUuT2JzaWRpYW5Ub3VjaEJhckxhYmVsO1xuXHR9XG5cblx0Z2V0RGlzcGxheUFibGVJdGVtKCk6IGFueSB7XG5cdFx0cmV0dXJuIG5ldyBUb3VjaEJhci5Ub3VjaEJhckxhYmVsKHtcblx0XHRcdGxhYmVsOiB0aGlzLnByb3BlcnRpZXNbXCJsYWJlbFwiXVxuXHRcdH0pXG5cdH1cblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvdWNoQmFyTGFiZWxQcm9wZXJ0aWVzIHtcblx0bGFiZWw6IHN0cmluZ1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSxpQ0FBQUEsU0FBQTtBQUFBLElBQUFBLFFBQUE7QUFBQSxNQUNDLFFBQVU7QUFBQSxRQUNUO0FBQUEsVUFDQyxRQUFVO0FBQUEsVUFDVixhQUFlO0FBQUEsVUFDZixTQUFXO0FBQUEsUUFDWjtBQUFBLFFBQ0E7QUFBQSxVQUNDLFFBQVU7QUFBQSxVQUNWLGFBQWU7QUFBQSxVQUNmLFNBQVc7QUFBQSxRQUNa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
